'From Squeak6.0 of 10 September 2025 [latest update: #22155] on 17 November 2025 at 12:11:47 pm'!Object subclass: #SADEnvironment	instanceVariableNames: 'variableScope methodScope activations'	classVariableNames: ''	poolDictionaries: ''	category: 'SAD-Scopes and Environment'!!SADEnvironment methodsFor: 'initialize-release' stamp: 'jws 11/13/2025 12:40'!initialize	super initialize.	variableScope := SADScope globalScope.	methodScope := SADScope globalScope.	activations := OrderedCollection new.! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/14/2025 16:52'!activate	activations addLast: self variableScope.	self variableScope: (SADScope newScopeIn: self globalScope).! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!activations	^ activations! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!activations: anObject	activations := anObject.! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/15/2025 14:43'!deactivate	self variableScope: (self activations removeLast).! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/14/2025 13:37'!declare: aName method: aMethod	methodScope bind: aName to: aMethod.! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/14/2025 13:29'!declare: aName variable: aVariable	self variableScope 	bind: aName 	to: aVariable.! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/15/2025 14:41'!globalScope	(self 	activations isEmpty)	ifTrue: [^self variableScope] 	 ifFalse: [^activations at: 1].! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/14/2025 13:38'!methodNamed: aName	^self methodScope bindingFor: aName.! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!methodScope	^ methodScope! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!methodScope: anObject	methodScope := anObject.! !!SADEnvironment methodsFor: 'accessing' stamp: 'WB 11/14/2025 13:34'!variableNamed: aName		^self variableScope bindingFor: aName.! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!variableScope	^ variableScope! !!SADEnvironment methodsFor: 'accessing' stamp: 'jws 11/13/2025 12:28'!variableScope: anObject	variableScope := anObject.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SADEnvironment class	instanceVariableNames: 'globalScope'!